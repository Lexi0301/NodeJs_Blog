{"remainingRequest":"F:\\nodejs608lq(1)\\nodejs608lq\\src\\views\\admin\\node_modules\\_babel-loader@8.3.0@babel-loader\\lib\\index.js!F:\\nodejs608lq(1)\\nodejs608lq\\src\\views\\admin\\src\\utils\\utils.js","dependencies":[{"path":"F:\\nodejs608lq(1)\\nodejs608lq\\src\\views\\admin\\src\\utils\\utils.js","mtime":1684942330934},{"path":"F:\\nodejs608lq(1)\\nodejs608lq\\src\\views\\admin\\babel.config.js","mtime":1650957311000},{"path":"F:\\nodejs608lq(1)\\nodejs608lq\\src\\views\\admin\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\nodejs608lq(1)\\nodejs608lq\\src\\views\\admin\\node_modules\\_babel-loader@8.3.0@babel-loader\\lib\\index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluZGV4LW9mLmpzIjsKaW1wb3J0IHN0b3JhZ2UgZnJvbSAnLi9zdG9yYWdlJzsKaW1wb3J0IG1lbnUgZnJvbSAnLi9tZW51JzsKLyoqDQogKiDlj6/ku6XkvKDlhaXku7vkvZXnsbvlnovnmoTlgLzkvZzkuLoga2V5IOWPguaVsA0KICogQHBhcmFtIHsqfSBrZXkNCiAqLwovL0F1dGhvcml6YXRpb27mnYPpmZAKZXhwb3J0IGZ1bmN0aW9uIGlzQXV0aCh0YWJsZU5hbWUsIGtleSkgewogIHZhciByb2xlID0gc3RvcmFnZS5nZXQoInJvbGUiKTsKICBpZiAoIXJvbGUpIHsKICAgIHJvbGUgPSAn566h55CG5ZGYJzsKICB9CiAgdmFyIG1lbnVzID0gbWVudS5saXN0KCk7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZW51cy5sZW5ndGg7IGkrKykgewogICAgaWYgKG1lbnVzW2ldLnJvbGVOYW1lID09IHJvbGUpIHsKICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtZW51c1tpXS5iYWNrTWVudS5sZW5ndGg7IGorKykgewogICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgbWVudXNbaV0uYmFja01lbnVbal0uY2hpbGQubGVuZ3RoOyBrKyspIHsKICAgICAgICAgIGlmICh0YWJsZU5hbWUgPT0gbWVudXNbaV0uYmFja01lbnVbal0uY2hpbGRba10udGFibGVOYW1lKSB7CiAgICAgICAgICAgIHZhciBidXR0b25zID0gbWVudXNbaV0uYmFja01lbnVbal0uY2hpbGRba10uYnV0dG9ucy5qb2luKCcsJyk7CiAgICAgICAgICAgIHJldHVybiBidXR0b25zLmluZGV4T2Yoa2V5KSAhPT0gLTEgfHwgZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQogIHJldHVybiBmYWxzZTsKfQ=="},{"version":3,"names":["storage","menu","isAuth","tableName","key","role","get","menus","list","i","length","roleName","j","backMenu","k","child","buttons","join","indexOf"],"sources":["F:/nodejs608lq(1)/nodejs608lq/src/views/admin/src/utils/utils.js"],"sourcesContent":["import storage from './storage';\r\nimport menu from './menu';\r\n/**\r\n * 可以传入任何类型的值作为 key 参数\r\n * @param {*} key\r\n */\r\n//Authorization权限\r\nexport function isAuth(tableName,key) {\r\n    let role = storage.get(\"role\");\r\n    if(!role){\r\n        role = '管理员';\r\n    }\r\n    let menus = menu.list();\r\n    for(let i=0;i<menus.length;i++){\r\n        if(menus[i].roleName==role){\r\n            for(let j=0;j<menus[i].backMenu.length;j++){\r\n                for(let k=0;k<menus[i].backMenu[j].child.length;k++){\r\n                    if(tableName==menus[i].backMenu[j].child[k].tableName){\r\n                        let buttons = menus[i].backMenu[j].child[k].buttons.join(',');\r\n                        return buttons.indexOf(key) !== -1 || false\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n}"],"mappings":";;AAAA,OAAOA,OAAO,MAAM,WAAW;AAC/B,OAAOC,IAAI,MAAM,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,MAAMA,CAACC,SAAS,EAACC,GAAG,EAAE;EAClC,IAAIC,IAAI,GAAGL,OAAO,CAACM,GAAG,CAAC,MAAM,CAAC;EAC9B,IAAG,CAACD,IAAI,EAAC;IACLA,IAAI,GAAG,KAAK;EAChB;EACA,IAAIE,KAAK,GAAGN,IAAI,CAACO,IAAI,CAAC,CAAC;EACvB,KAAI,IAAIC,CAAC,GAAC,CAAC,EAACA,CAAC,GAACF,KAAK,CAACG,MAAM,EAACD,CAAC,EAAE,EAAC;IAC3B,IAAGF,KAAK,CAACE,CAAC,CAAC,CAACE,QAAQ,IAAEN,IAAI,EAAC;MACvB,KAAI,IAAIO,CAAC,GAAC,CAAC,EAACA,CAAC,GAACL,KAAK,CAACE,CAAC,CAAC,CAACI,QAAQ,CAACH,MAAM,EAACE,CAAC,EAAE,EAAC;QACvC,KAAI,IAAIE,CAAC,GAAC,CAAC,EAACA,CAAC,GAACP,KAAK,CAACE,CAAC,CAAC,CAACI,QAAQ,CAACD,CAAC,CAAC,CAACG,KAAK,CAACL,MAAM,EAACI,CAAC,EAAE,EAAC;UAChD,IAAGX,SAAS,IAAEI,KAAK,CAACE,CAAC,CAAC,CAACI,QAAQ,CAACD,CAAC,CAAC,CAACG,KAAK,CAACD,CAAC,CAAC,CAACX,SAAS,EAAC;YAClD,IAAIa,OAAO,GAAGT,KAAK,CAACE,CAAC,CAAC,CAACI,QAAQ,CAACD,CAAC,CAAC,CAACG,KAAK,CAACD,CAAC,CAAC,CAACE,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;YAC7D,OAAOD,OAAO,CAACE,OAAO,CAACd,GAAG,CAAC,KAAK,CAAC,CAAC,IAAI,KAAK;UAC/C;QACJ;MACJ;IACJ;EACJ;EACA,OAAO,KAAK;AAChB"}]}